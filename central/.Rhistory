geom_point(aes(V1, V2), data=plot_vector)+ geom_point(aes(x=V1,y=V2),plot_vector,size=0.01,alpha=0.5,color="yellow")
ggmap(sc) + geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5, colour= edges$label) +
geom_point(aes(V1, V2), data=plot_vector)+ geom_point(aes(x=V1,y=V2),plot_vector,size=0.01,alpha=0.5,color="yellow")
ggmap(sc) + geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5, colour= edges$label) + scale_colour_identity() +
geom_point(aes(V1, V2), data=plot_vector)+ geom_point(aes(x=V1,y=V2),plot_vector,size=0.01,alpha=0.5,color="yellow")
ggmap(sc) + geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2, colour= edges$label), data=edges, size = 0.5 ) + scale_colour_identity() +
geom_point(aes(V1, V2), data=plot_vector)+ geom_point(aes(x=V1,y=V2),plot_vector,size=0.01,alpha=0.5,color="yellow")
ggmap(sc) + geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2, colour= edges$label), data=edges, size = 0.5 ) + scale_colour_continuous() +
geom_point(aes(V1, V2), data=plot_vector)+ geom_point(aes(x=V1,y=V2),plot_vector,size=0.01,alpha=0.5,color="yellow")
ggmap(sc) + geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5, colour= edges$label) + scale_colour_discrete() +
geom_point(aes(V1, V2), data=plot_vector)+ geom_point(aes(x=V1,y=V2),plot_vector,size=0.01,alpha=0.5,color="yellow")
ggmap(sc) + geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5) +
geom_point(aes(V1, V2), data=plot_vector)+ geom_point(aes(x=V1,y=V2),plot_vector,size=0.01,alpha=0.5,color="yellow")
typeof(edges$label)
edges$label <- as.factor(edges$label)
ggmap(sc) + geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5, colour= edges$label) +
geom_point(aes(V1, V2), data=plot_vector)+ geom_point(aes(x=V1,y=V2),plot_vector,size=0.01,alpha=0.5,color="yellow")
ggmap(sc) + geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5, colour= edges$label) + scale_color_discrete() +
geom_point(aes(V1, V2), data=plot_vector)+ geom_point(aes(x=V1,y=V2),plot_vector,size=0.01,alpha=0.5,color="yellow")
typeof(edges$label)
edges <- data.frame(plot_vector[edgelist[,1],], plot_vector[edgelist[,2],], as.character(E(g1)$Label))
colnames(edges) <- c("X1","Y1","X2","Y2", "label")
typeof(edges$label)
edges$label <- as.character(edges$label)
typeof(edges$label)
ggmap(sc) + geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5, colour= edges$label) + scale_color_discrete() +
geom_point(aes(V1, V2), data=plot_vector)+ geom_point(aes(x=V1,y=V2),plot_vector,size=0.01,alpha=0.5,color="yellow")
edges$label <- as.factor(edges$label)
typeof(edges$label)
edges$label <- as.character(edges$label)
edges$label <- as.character(edges$label)
edges$label.f <- factor(edges$label)
typeof(edges$label)
typeof(edges$label.f)
edges$label <- factor(edges$label)
levels(edges$label)
ggmap(sc) + geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2, color = label), data=edges, size = 0.5) +
geom_point(aes(V1, V2), data=plot_vector)+ geom_point(aes(x=V1,y=V2),plot_vector,size=0.01,alpha=0.5,color="yellow")
#this code gets a pretty map for using ggmap
sc <- get_map(location = "South Carolina",
source = "stamen",
maptype = "terrain",
zoom = 8)
#this code gets a pretty map for using ggmap
sc <- get_map(location = "South Carolina",
source = "stamen",
maptype = "terrain",
zoom = 8)
ggmap(sc) + geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2, color = label), data=edges, size = 0.5) +
geom_point(aes(V1, V2), data=plot_vector)+ geom_point(aes(x=V1,y=V2),plot_vector,size=0.01,alpha=0.5,color="yellow")
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2, color = label), data=edges, size = 0.5) +
geom_point(aes(V1, V2), data=plot_vector) +
geom_point(aes(x=V1,y=V2),plot_vector,size=0.01,alpha=0.5,color="yellow")
alldeg <- degree(g1, v=V(g1), mode=c("all"),loops=FALSE)
V(g1)$alldeg <- alldeg
plot(g1, layout = layout_components, vertex.label = NA, vertex.size = alldeg, edge.arrow.size = .4)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2, color = label), data=edges, size = 0.5) +
geom_point(aes(V1, V2), data=plot_vector) +
geom_point(aes(x=V1,y=V2),plot_vector,size=sqrt(alldeg),alpha=0.5,color="yellow")
plot_vector <- as.data.frame(cbind(V(g1)$long,V(g1)$lat), V(g1)$cat2)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2, color = "black"), data=edges, size = 0.5, alpha = 0.5) +
geom_point(aes(V1, V2, color = cat2), data=plot_vector, size=sqrt(alldeg), alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2, color = "black"), data=edges, size = 0.5, alpha = 0.5) +
geom_point(aes(V1, V2, color = "cat2"), data=plot_vector, size=sqrt(alldeg), alpha=0.5)
plot_vector <- as.data.frame(cbind(V(g1)$long,V(g1)$lat, V(g1)$cat2))
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2, color = "black"), data=edges, size = 0.5, alpha = 0.5) +
geom_point(aes(V1, V2, color = cat2), data=plot_vector, size=sqrt(alldeg), alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2, color = "black"), data=edges, size = 0.5, alpha = 0.5) +
geom_point(aes(V1, V2, color = "cat2"), data=plot_vector, size=sqrt(alldeg), alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2, color = "black"), data=edges, size = 0.5, alpha = 0.5) +
geom_point(aes(V1, V2, color = "cat2"), data=plot_vector, size=sqrt(alldeg), alpha=0.5) + scale_continuous_identity()
typeof(plot_vector$V3)
levels(plot_vector$V3)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2, color = "black"), data=edges, size = 0.5, alpha = 0.5) +
geom_point(aes(V1, V2, color = V3), data=plot_vector, size=sqrt(alldeg), alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5, alpha = 0.5) +
geom_point(aes(V1, V2, color = V3), data=plot_vector, size=sqrt(alldeg), alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5, alpha = 0.5) +
geom_point(aes(V1, V2), data=plot_vector, size=sqrt(alldeg), alpha=0.5, color = V3)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5, alpha = 0.5) +
geom_point(aes(V1, V2), data=plot_vector, size=sqrt(alldeg), alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5, alpha = 0.5) +
geom_point(aes(V1, V2, color = V3), data=plot_vector, size=alldeg, alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5, alpha = 0.5) +
geom_point(aes(V1, V2, color = V3), data=plot_vector, alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5, alpha = 0.5) +
geom_point(aes(V1, V2), data=plot_vector, alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5) +
geom_point(aes(V1, V2), data=plot_vector, alpha=0.5)
plot_vector <- as.data.frame(cbind(V(g1)$long,V(g1))
plot_vector <- as.data.frame(cbind(V(g1)$long,V(g1)))
plot_vector <- as.data.frame(cbind(V(g1)$long,V(g1)))
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5) +
geom_point(aes(V1, V2), data=plot_vector, alpha=0.5)
plot_vector <- as.data.frame(cbind(V(g1)$long,V(g1)$lat))
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5) +
geom_point(aes(V1, V2), data=plot_vector, alpha=0.5)
plot_vector <- as.data.frame(cbind(V(g1)$long,V(g1)$lat, V(g1)$cat2))
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5) +
geom_point(aes(V1, V2), data=plot_vector, alpha=0.5)
head(plot_vector)
plot_vector$V1 <- as.numeric(plot_vector$V1)
plot_vector$V2 <- as.numeric(plot_vector$V2)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5) +
geom_point(aes(V1, V2), data=plot_vector, alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5) +
geom_point(aes(V1, V2), data=plot_vector, alpha=0.5)
plot_vector <- as.data.frame(cbind(V(g1)$long,V(g1)$lat))
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5) +
geom_point(aes(V1, V2), data=plot_vector, alpha=0.5)
head(plot_vector)
V(g1)$cat2
plot_vector$cat2 <- V(g1)$cat2
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5) +
geom_point(aes(V1, V2), data=plot_vector, alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5) +
geom_point(aes(V1, V2, color = cat2), data=plot_vector, alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5) +
geom_point(aes(V1, V2, color = cat2), size = alldeg, data=plot_vector, alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5) +
geom_point(aes(V1, V2, color = cat2), size = sqrt(alldeg), data=plot_vector, alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), data=edges, size = 0.5, alpha = 0.5) +
geom_point(aes(V1, V2, color = cat2), size = sqrt(alldeg), data=plot_vector, alpha=0.5)
edgebtwn <- edge_betweenness(g1)
head(edgebtwn)
str(edgebtwn)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), color = "grey", data=edges, size = 0.5, alpha = 0.5) +
geom_point(aes(V1, V2, color = cat2), size = sqrt(alldeg), data=plot_vector, alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), color = "grey", data=edges, size = 0.5, alpha = edgebtwn/100) +
geom_point(aes(V1, V2, color = cat2), size = sqrt(alldeg), data=plot_vector, alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), color = "grey", data=edges, size = 0.5, alpha = edgebtwn/15) +
geom_point(aes(V1, V2, color = cat2), size = sqrt(alldeg), data=plot_vector, alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), color = "grey", data=edges, size = 0.5, alpha = edgebtwn/20) +
geom_point(aes(V1, V2, color = cat2), size = sqrt(alldeg), data=plot_vector, alpha=0.5)
ggmap(sc, darken = c(.8,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2), color = "grey", data=edges, size = 0.5, alpha = edgebtwn/max(edgebtwn)) +
geom_point(aes(V1, V2, color = cat2), size = sqrt(alldeg), data=plot_vector, alpha=0.5)
ggmap(sc, darken = c(.5,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2),
color = "grey",
data = edges,
size = 0.5,
alpha = edgebtwn/max(edgebtwn)) +
geom_point(aes(V1, V2, color = cat2),
size = sqrt(alldeg),
data = plot_vector,
alpha = 0.5)
edgebtwn/max(edgebtwn)
log(edgebtwn/max(edgebtwn))
sqrt(edgebtwn)
edgebtwn
summary(edgebtwn)
summary(edgebtwn/max(edgebtwn))
summary(log(edgebtwn/max(edgebtwn))
summary(log(edgebtwn/max(edgebtwn)))
summary(log(edgebtwn/max(edgebtwn)))
summary(sqrt(log(edgebtwn/max(edgebtwn))))
summary(log(edgebtwn/max(edgebtwn))^2)
summary(edgebtwn/max(edgebtwn))
edgebtwn <- edge.connectivity(g1)
summary(edgebtwn/max(edgebtwn))
edgebtwn <- edge.betweenness(g1)
summary(normalize(edgebtwn))
normalize(edgebtwn)
BBmisc::normalize(edgebtwn)
install.packages("BBmisc")
BBmisc::normalize(edgebtwn)
edgebtwn <- edge.betweenness(g1)
BBmisc::normalize(edgebtwn)
BBmisc::normalize(edgebtwn, method = "standardize", range = c(0,1))
BBmisc::normalize(edgebtwn, method = "range", range = c(0,1))
BBmisc::normalize(edgebtwn, method = "range", range = c(0.5,1))
ggmap(sc, darken = c(.5,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2),
color = "grey",
data = edges,
size = 0.5,
alpha = BBmisc::normalize(edgebtwn, method = "range", range = c(0.5,1))) +
geom_point(aes(V1, V2, color = cat2),
size = sqrt(alldeg),
data = plot_vector,
alpha = 0.5)
ggmap(sc, darken = c(.5,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2),
color = "dark grey",
data = edges,
size = 0.5,
alpha = BBmisc::normalize(edgebtwn, method = "range", range = c(0.5,1))) +
geom_point(aes(V1, V2, color = cat2),
size = sqrt(alldeg),
data = plot_vector,
alpha = 0.5)
ggmap(sc, darken = c(.5,"#FFFFFF")) +
geom_curve(aes(x=X1, y=Y1, xend = X2, yend = Y2),
color = "dark grey",
data = edges,
size = 0.5,
alpha = BBmisc::normalize(edgebtwn, method = "range", range = c(0.5,1))) +
geom_point(aes(V1, V2, color = cat2),
size = sqrt(alldeg),
data = plot_vector,
alpha = 0.5)
ggmap(sc, darken = c(.5,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2),
color = "dark grey",
data = edges,
size = 0.5,
alpha = BBmisc::normalize(edgebtwn, method = "range", range = c(0.5,1))) +
geom_point(aes(V1, V2, color = cat2),
size = sqrt(alldeg),
data = plot_vector,
alpha = 0.5)
ggmap(sc, darken = c(.5,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2),
color = "dark grey",
data = edges,
size = 0.5,
alpha = BBmisc::normalize(edgebtwn, method = "range", range = c(0.25,1))) +
geom_point(aes(V1, V2, color = cat2),
size = sqrt(alldeg),
data = plot_vector,
alpha = 0.5)
#this code gets a pretty map for using ggmap
sc <- get_map(location = "South Carolina",
source = "osm",
# maptype = "terrain",
zoom = 8)
#this code gets a pretty map for using ggmap
sc <- get_map(location = c("32.0333099365234","35.2155418395996","-83.35400390625","-78.4992980957031"),
source = "osm",
maptype = "terrain",
zoom = 8)
#this code gets a pretty map for using ggmap
sc <- get_map(location = c("32.0333099365234","35.2155418395996","-83.35400390625","-78.4992980957031"),
source = "stamen",
maptype = "terrain",
zoom = 8)
#this code gets a pretty map for using ggmap
sc <- get_map(location = c(bottom = "32.0333099365234", top = "35.2155418395996", left = "-83.35400390625", right ="-78.4992980957031"),
source = "stamen",
maptype = "terrain",
zoom = 8)
#this code gets a pretty map for using ggmap
sc <- get_map(location = c(bottom = 32.0333099365234,
top = 35.2155418395996,
left = -83.35400390625,
right = -78.4992980957031),
source = "stamen",
maptype = "terrain",
zoom = 8)
ggmap(sc, darken = c(.5,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2),
color = "dark grey",
data = edges,
size = 0.5,
alpha = BBmisc::normalize(edgebtwn, method = "range", range = c(0.25,1))) +
geom_point(aes(V1, V2, color = cat2),
size = sqrt(alldeg),
data = plot_vector,
alpha = 0.5)
#this code gets a pretty map for using ggmap
sc <- get_map(location = c(bottom = 32.0333099365234,
top = 35.2155418395996,
left = -83.35400390625,
right = -78.4992980957031),
source = "stamen",
maptype = "terrain",
zoom = 10)
ggmap(sc, darken = c(.5,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2),
color = "dark grey",
data = edges,
size = 0.5,
alpha = BBmisc::normalize(edgebtwn, method = "range", range = c(0.25,1))) +
geom_point(aes(V1, V2, color = cat2),
size = sqrt(alldeg),
data = plot_vector,
alpha = 0.5)
#this code gets a pretty map for using ggmap
sc <- get_map(location = c(bottom = 32.0333099365234,
top = 35.2155418395996,
left = -83.35400390625,
right = -78.4992980957031),
source = "stamen",
maptype = "terrain",
zoom = 9)
ggmap(sc, darken = c(.5,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2),
color = "dark grey",
data = edges,
size = 0.5,
alpha = BBmisc::normalize(edgebtwn, method = "range", range = c(0.25,1))) +
geom_point(aes(V1, V2, color = cat2),
size = sqrt(alldeg),
data = plot_vector,
alpha = 0.5)
#this code gets a pretty map for using ggmap
sc <- get_map(location = c(bottom = 32.0333099365234,
top = 35.2155418395996,
left = -83.35400390625,
right = -78.4992980957031),
source = "stamen",
maptype = "terrain",
zoom = 8)
#this code gets a pretty map for using ggmap
sc <- get_map(location = c(bottom = 32.0333099365234,
top = 35.2155418395996,
left = -83.35400390625,
right = -78.4992980957031),
source = "stamen",
maptype = "terrain",
zoom = 8)
ggmap(sc, darken = c(.5,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2),
color = "dark grey",
data = edges,
size = 0.5,
alpha = BBmisc::normalize(edgebtwn, method = "range", range = c(0.25,1))) +
geom_point(aes(V1, V2, color = cat2),
size = sqrt(alldeg),
data = plot_vector,
alpha = 0.5)
#this code gets a pretty map for using ggmap
sc <- get_map(location = c(bottom = 32.0333099365234,
top = 35.2155418395996,
left = -83.35400390625,
right = -78.4992980957031),
source = "stamen",
maptype = "terrain",
zoom = 7)
ggmap(sc, darken = c(.5,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2),
color = "dark grey",
data = edges,
size = 0.5,
alpha = BBmisc::normalize(edgebtwn, method = "range", range = c(0.25,1))) +
geom_point(aes(V1, V2, color = cat2),
size = sqrt(alldeg),
data = plot_vector,
alpha = 0.5)
ggmap(sc, darken = c(.5,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2),
color = "dark grey",
data = edges,
size = BBmisc::normalize(edgebtwn, method = "range", range = c(0.5,3)),
alpha = BBmisc::normalize(edgebtwn, method = "range", range = c(0.25,1))) +
geom_point(aes(V1, V2, color = cat2),
size = sqrt(alldeg),
data = plot_vector,
alpha = 0.5)
ggmap(sc, darken = c(.5,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2),
color = "dark grey",
data = edges,
size = BBmisc::normalize(edgebtwn, method = "range", range = c(0.5,1.5)),
alpha = BBmisc::normalize(edgebtwn, method = "range", range = c(0.25,1))) +
geom_point(aes(V1, V2, color = cat2),
size = sqrt(alldeg),
data = plot_vector,
alpha = 0.5)
ggmap(sc, darken = c(.5,"#FFFFFF")) +
geom_segment(aes(x=X1, y=Y1, xend = X2, yend = Y2),
color = "dark grey",
data = edges,
size = BBmisc::normalize(edgebtwn, method = "range", range = c(0.5,1)),
alpha = BBmisc::normalize(edgebtwn, method = "range", range = c(0.25,1))) +
geom_point(aes(V1, V2, color = cat2),
size = sqrt(alldeg),
data = plot_vector,
alpha = 0.5)
sc_map <- ggmap(sc, darken = c(.5,"#FFFFFF"))
coops.sf$ID
coops.sf$ID[10]
coops.sf[coops.sf$ID == 10,]
sc_map +
geom_sf(data = coops.sf[coops.sf$ID == 10,])
sc_map +
geom_sf(data = coops.sf)
#names(coops)
coops$lon <- coops$lng
coops.sf <- st_as_sf(x = coops[!is.na(coops$lat),],
coords = c("lon", "lat"),
crs = "+proj=longlat +datum=WGS84")
sc_map +
geom_sf(data = coops.sf)
sc_map +
geom_sf(data = coops)
sc_map +
geom_point(aes(lat, lon), data = coops[coops$ID == 10,])
coops[coops$ID == 10,]
sc_map +
geom_point(aes(lon, lat), data = coops[coops$ID == 10,])
View(territories)
sc_map +
geom_point(aes(lon, lat), data = coops[coops$ID == 10,]) +
geom_sf(data = territories)
unzip("./map.data/SC Electric Coop Territorial.zip", exdir = "./map.data")
#read names of directory
f <- list.files("/Users/tyler/Dropbox/_GSR/d3sc/central/map.data")
f <- f[grepl("\\.shp", f, perl = T)]
#apply or for to st_read *.shp l or
territories <- lapply(f, function(x){
t <- st_read(file.path("/Users/tyler/Dropbox/_GSR/d3sc/central/map.data", x))
t <- t["geometry"]
t$name <- rep(sub("\\.shp", "", x, perl=T), nrow(t))
st_transform(t, crs= 4326)
})
territories <- do.call(rbind, territories)
# quick map with ggplot, works!
# ggplot() +
#   geom_sf(data=territories,
#           aes(fill=name))
mapview(coops.sf, zcol = "Category", legend = FALSE) + territories
sc_map +
geom_point(aes(lon, lat), data = coops[coops$ID == 10,]) +
geom_sf(data = territories)
unzip("./map.data/SC Electric Coop Territorial.zip", exdir = "./map.data")
#read names of directory
f <- list.files("/Users/tyler/Dropbox/_GSR/d3sc/central/map.data")
f <- f[grepl("\\.shp", f, perl = T)]
#apply or for to st_read *.shp l or
territories <- lapply(f, function(x){
t <- st_read(file.path("/Users/tyler/Dropbox/_GSR/d3sc/central/map.data", x))
t <- t["geometry"]
t$name <- rep(sub("\\.shp", "", x, perl=T), nrow(t))
st_transform(t, crs= 4326)
})
territories <- do.call(rbind, territories)
# quick map with ggplot, works!
# ggplot() +
#   geom_sf(data=territories,
#           aes(fill=name))
# quick map with ggplot, works!
ggplot() +
geom_sf(data=territories,
aes(fill=name))
#apply or for to st_read *.shp l or
territories <- lapply(f, function(x){
t <- st_read(file.path("/Users/tyler/Dropbox/_GSR/d3sc/central/map.data", x))
t <- t["geometry"]
t$name <- rep(sub("\\.shp", "", x, perl=T), nrow(t))
st_transform(t, crs= 4326)
})
territories <- do.call(rbind, territories)
#read names of directory
f <- list.files("/Users/tyler/Dropbox/_GSR/d3sc/central/map.data")
f <- f[grepl("\\.shp", f, perl = T)]
#apply or for to st_read *.shp l or
territories <- lapply(f, function(x){
t <- st_read(file.path("/Users/tyler/Dropbox/_GSR/d3sc/central/map.data", x))
t <- t["geometry"]
t$name <- rep(sub("\\.shp", "", x, perl=T), nrow(t))
st_transform(t, crs= 4326)
})
#read names of directory
f <- list.files("./map.data")
f <- f[grepl("\\.shp", f, perl = T)]
t <- st_read(file.path("./map.data", x))
#apply or for to st_read *.shp l or
territories <- lapply(f, function(x){
t <- st_read(file.path("./map.data", x))
t <- t["geometry"]
t$name <- rep(sub("\\.shp", "", x, perl=T), nrow(t))
st_transform(t, crs= 4326)
})
territories <- do.call(rbind, territories)
# quick map with ggplot, works!
ggplot() +
geom_sf(data=territories,
aes(fill=name))
sc_map +
geom_point(aes(lon, lat), data = coops[coops$ID == 10,]) +
geom_sf(data = territories)
sc_map +
geom_point(aes(lon, lat), data = coops[coops$ID == 10,]) +
geom_sf(data = territories, inherit.aes = FALSE)
sc_map +
geom_point(aes(lon, lat), data = coops[coops$ID == 10,]) +
geom_sf(data = territories[territories$name == "Blueridge Territorial"], inherit.aes = FALSE)
sc_map +
geom_point(aes(lon, lat), data = coops[coops$ID == 10,]) +
geom_sf(data = territories[territories$name == "Blueridge Territorial",], inherit.aes = FALSE)
